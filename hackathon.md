# Project Trebuchet: The Quest for Unprecedented Scale - Competitor's Codex

Welcome, Trailblazers, to Project Trebuchet! This isn't just a hackathon; it's an expedition into the uncharted territories of digital interaction. We're calling on youâ€”the brightest minds, the boldest coders, the most ingenious optimizersâ€”to help us forge a server capable of hosting worlds teeming with thousands, even tens of thousands, of concurrent players and AI, all moving, interacting, and living at a fluid 60 FPS. Your mission: take the formidable `massive_game_server` engine and transform it into a legend.

**The Grand Vision:** Imagine recreating pivotal historical moments with thousands of participants, simulating the breathtaking complexity of natural ecosystems, or building entirely new genres of games where scale *is* the experience. This is Project Trebuchet's ambitionâ€”to not just break records, but to unlock new forms of interactive storytelling and demonstrate NYC's unparalleled technological creativity.

## 1. Your Call to Adventure: Eligibility & The First Trial

To join the ranks of the chosen few (16-32 pioneers) who will battle in the main **Project Trebuchet Competition**, you must first prove your mettle:

1. **Heed the Call:** Clone the `TrebuchetNetwork/massive_game_server` repository. This is your foundational toolkit.

2. **Forge the Engine:** Successfully compile the `massive_game_server` (our Rust-powered beast).

3. **Ignite the Server:** Run it locally and witness its nascent power by connecting with the provided web client.

4. **Study the Runes:** Familiarize yourself with its core architecture, the ancient scrolls of configuration, and the epic performance sagas detailed within this Codex.

This first trial ensures every champion enters the arena with the knowledge and tools to conquer the challenges ahead.

## 2. The Saga Unfolds: Hackathon Schedule & Timeline

The Project Trebuchet saga will unfold over approximately two months, marked by three pivotal events, commencing on **Monday, June 10th, 2025**.

* **Event 1: The Gauntlet & The Gathering (Qualifier & Kick-off)**

  * **The Gauntlet (Qualifier Period):** Monday, June 10, 2025 - Sunday, June 23, 2025
    *(Two weeks to prove your worth by completing the "First Trial".)*

  * **Champions Chosen (Selected Participants Announced):** Wednesday, June 26, 2025
    *(The heralds will announce those who have earned their place.)*

  * **The Gathering (Hackathon Kick-off & Grand Briefing):** Saturday, June 29, 2025
    *(Join us, virtually or in person \[Location TBD\], as we officially launch the quest, delve deeper into the challenges, and form our fellowships!)*

* **Event 2: The Great Forging (Main Development Sprint & Mid-Point Rally)**

  * **The Forging - First Phase (Development Period):** Sunday, June 30, 2025 - Sunday, July 14, 2025
    *(Two weeks of intensive coding, optimization, and innovation.)*

  * **Mid-Point Rally (Mentorship & Progress Check-in):** Saturday, July 13, 2025 (Tentative)
    *(A day for guidance, sharing early breakthroughs, and strategic counsel with mentors.)*

  * **The Forging - Second Phase (Development Period):** Monday, July 15, 2025 - Sunday, July 28, 2025
    *(Two more weeks to refine your creations and push the boundaries of scale.)*

* **Event 3: The Reckoning & The Revelation (Submissions, Judging & Grand Showcase)**

  * **Scrolls Submitted (Submission Deadline):** Sunday, July 28, 2025 (End of Day, Your Timezone)
    *(Present your masterpieces to the Council.)*

  * **The Council Deliberates (Judging Period):** Monday, July 29, 2025 - Friday, August 9, 2025
    *(The wisest minds will scrutinize your innovations.)*

  * **Legends Crowned (Winners Announced & Grand Showcase):** Saturday, August 10, 2025 (Evening Event - Details TBD)
    *(Celebrate the triumphs, witness the crowning of champions, and behold the future of massive-scale interaction!)*

*(All dates are subject to minor adjustments. Final details will be communicated by the Trebuchet Network organizers.)*

## 3. Spoils of Victory: Prizes & Eternal Glory

* **The Titan's Hoard (Grand Prize):** \[Details TBD by Organizers - e.g., A treasure chest of gold (cash!), legendary artifacts (high-end hardware!), scrolls of wisdom (mentorship!)\]

* **Hero's Bounty (Runner-Up Prizes):** \[Details TBD by Organizers\]

* **Marks of Distinction (Special Category Awards):** (e.g., The "Da Vinci" for Most Innovative Optimization, The "Master of Legions" for Best AI Scaling, The "Whisperwind" for Most Efficient Resource Usage) \[Details TBD by Organizers\]

* **Bard's Tales (Recognition):** All who brave the qualifier and contribute their might will have their names sung in the halls of Trebuchet Network. Victorious creations may be enshrined for all to behold.

## 4. The Path to Legend: Judging Criteria

Your creations will be judged by the Council of Elders based on these sacred tenets:

* **The Might of Multitudes (Maximum Concurrent Entities - 60%):**

  * Can your server host a digital nation? We seek the highest sustained player+bot count on our hallowed benchmark hardware, all while maintaining the sacred **55-60 FPS** over a grueling test of endurance (e.g., 10-15 minutes).

  * The server must stand unyielding under this immense pressure.

* **The Spark of Genius (Technical Innovation & Optimization - 20%):**

  * Have you woven new magic into the engine? We look for novel and potent architectural shifts, algorithms, and optimization spells.

  * Show us you've vanquished the bottlenecks (state sync, AI, network)!

  * How lean is your creation? CPU, memory, and network bandwidth per soul must be efficient.

* **The Clarity of Runes (Code Quality & Documentation - 10%):**

  * Is your code a beautifully crafted artifact, or a tangled mess of goblin script? Clarity, maintainability, and robustness are key.

  * Your scrolls (documentation) must clearly illuminate your path.

* **The Power of a Story (Presentation/Demonstration - 10%):**

  * Recount your epic journey! Explain your triumphs, your reasoning, and the glorious impact of your changes.

  * Demonstrate the power of your optimized server with conviction.

*(A more detailed map to legendary status (scoring rubric) will be provided.)*

## 5. Assembling Your Fellowship: Team Formation

* **Strength in Unity:** Fellowships (teams) can consist of **1 to 4 heroes**.

* **The Round Table of Skills:** We champion fellowships with diverse talents. Seek out allies from these esteemed orders:

  * **ðŸ§  Architects of the Core:** Systems Performance Engineers, Network Protocol Wizards, GPU Alchemists, Distributed Systems Visionaries.

  * **ðŸŽ¯ Masters of the Craft:** Game Engine Sages, Compiler & Language Sorcerers, Real-time AI Strategists, Chaos & Reliability Guardians.

  * **ðŸ’¡ Bearers of New Light:** Applied Mathematicians/Physicists, Data Weavers & Visualization Oracles, Security Sentinels, UX/Technical Artificers.

* **The Gathering Place:** A sacred channel for forming your fellowship will be revealed. \[Details TBD by Organizers\]

## 6. The Engine Room: A Technical Deep Dive

### 6.1. Your Starting Artifact: `massive_game_server`

* **The Armory:** <https://github.com/TrebuchetNetwork/massive_game_server>

* **Its Essence:** A potent 2D shooter game server, forged in the fires of Rust, ready for your enhancements.

### 6.2. The Arcane Arts (Key Technologies)

* **Rust:** The language of power, performance, and safety.

* **WebRTC:** For swift, real-time communion between server and clients.

* **FlatBuffers:** Ancient glyphs for hyper-efficient data transmission.

* **Tokio:** The mystical force powering our asynchronous operations. \[cite: 1111\]

* **Pixi.js & Tailwind CSS:** The enchanted brushes for our client-side tapestry.

### 6.3. The Runes of Requirement (Prerequisites)

* **Rust:** `rustc 1.86.0` or newer.

* **Cargo:** `cargo 1.86.0` or newer.

* **FlatBuffers Compiler (`flatc`):** `flatc version 25.2.10` or newer.

* **(Optional for client sorcery) TypeScript Compiler (`tsc`):** `Version 5.8.3` or newer.

### 6.4. Igniting the Forge (Build & Run)

1. **Claim the Artifact:** Clone the Repository.

2. **Stoke the Flames:** `cd server && cargo build --release`

3. **Unleash the Power:** `cd server && cargo run --release` (It whispers its incantations on `ws://0.0.0.0:8080/ws`)

4. **Peer into the Aether:** Open `static_client/client.html` in your browser.

### 6.5. Tuning the Harmonics (Key Configuration & Performance Areas)

* **The Master Scroll:** `server/src/core/config.rs` \[cite: 1371, 1373\]

  * `tick_rate`: Default `SERVER_TICK_RATE` (e.g., 30). \[cite: 1373, 1381\]

  * `num_player_shards`: Default 12 (attune to your CPU's soul). \[cite: 1373\]

  * `max_players_per_match`: Default 400 (can this number grow?). \[cite: 1373, 1374\]

  * `ThreadPoolConfig`: Defaults for a 12-spirit CPU - `physics: 8`, `networking: 6`, `game_logic: 6`, `ai: 2`, `io: 2`. \[cite: 1372, 1374\]

* **The AI Horde:** `target_bot_count` in `server/src/server/instance.rs` (default 400). \[cite: 1901\]

* **Where Legends Are Forged (Optimization Focus):** Vanquish the demons of Input/AI latency, State Synchronization overhead, and Game Logic bottlenecks when the world teems with life.

### 6.6. Omens & Portents (Current Performance Snapshots & Challenges)

(The ancient textsâ€”README or user contextâ€”speak of these trials. Your quest is to surpass them.)

* **The Skirmish of 200v200 (High Interaction):** Total Tick Time \~38.29ms. **Your Quest:** Carve it down below 16ms!

* **The Siege of 1000v1000:** Revealed mighty chokepoints in Game Logic and State Sync. **Your Quest:** Architect for legions more!

* **Whispers of "Event processing loop safety break":** These are cries from the engine under duress. Bring it stability and grace.

### 6.7. The Colossus (Target Benchmark Hardware Profile for Final Judgment)

* **The Mind:** AMD Threadripper PRO 7995WX (96 cores / 192 threads of pure thought)

* **The Memory:** 1TB (an ocean of RAM)

* **The Eye (for visions of offload):** NVIDIA RTX 6000 Ada Generation (48GB-96GB VRAM)

* **The Voice:** 100Gbps Networking

### 6.8. The Alchemist's Secrets (Key Optimization Areas)

* **The Symphony of Cores:** Master NUMA, thread pinning (`core_affinity` \[cite: 1112\]), and task sharding. Make all 96 cores sing in harmony.

* **The Art of Essence (Memory):** Data-Oriented Design, object pooling, cache whispering.

* **The Swift Messenger (Networking):** Perfect serialization, AOI refinement, delta compression mastery.

* **The Sharpened Blade (Algorithms):** For AI, physics, collision, spatial indexing â€“ make them cut like light.

* **The Golem's Aid (GPU Offloading - Advanced):** If the CPU falters, can the GPU bear some of the AI or physics burden?

## 7. The Hero's Journey: Development & Submission

### 7.1. The Way of the Coder (Development Guidelines)

* **The Chronicle (Version Control):** Git is your scribe. Commit often, with tales of your deeds.

* **The Hidden Path (Branching):** Forge feature branches: `your_fellowship_name/your_epic_quest`.

* **The Elegant Script (Code Style):** `rustfmt` for Rust. `cargo clippy` for wisdom.

* **The Trials (Testing):** Unit tests are your sparring partners. Integration and performance tests are your dragon battles.

* **The Ancient Tomes (Documentation):** Illuminate complex spells with comments. Chronicle your grand designs.

* **The Seer's Orb (Performance Profiling):** Use `flamegraph`, `perf`, or Rust's own auguries to find and conquer inefficiencies.

### 7.2. Presenting Your Relic (Submission Requirements)

* Your fellowship's sacred fork of `TrebuchetNetwork/massive_game_server`, with your triumphs on a clearly marked branch.

* A `HACKATHON_SUBMISSION.md` scroll in your fork's root, containing:

  * The names and roles of your fellowship.

  * A saga of your optimizations and new enchantments.

  * The wisdom behind your critical technical choices.

  * Instructions for the Council to build and run your marvel (if it diverges from the original).

  * Your self-proclaimed feats of performance (max bots, tick times on your own forge).

* A brief moving picture (video) showcasing your server's might under duress (if the spirits of technology allow).

*(The Council will provide detailed instructions on how to present your relics.)*

## 8. The Oracle's Chamber: Support & Communication

* **The Grand Forum (Primary Communication Channel):** \[e.g., The Hallowed Discord Server of Trebuchet - Link to be Revealed\]

* **The Library of Queries (GitHub Issues):** For arcane questions about the base `massive_game_server` artifact.

* **Wisdom of the Ancients (Office Hours/Mentorship):** \[Details to be shared by the Organizers - perhaps sessions with Archmages of Engineering\]

## 9. The Laws of the Land: Rules & Conduct

### 9.1. The Covenant of Respect

All champions must honor the [**CODE_OF_CONDUCT.md**](CODE_OF_CONDUCT.md). We seek a realm of respect, collaboration, and epic high-fives.
*(Ensure this sacred text is in the repository, with clear paths to report any who stray.)*

### 9.2. The Spoils of Creation (Intellectual Property & Licensing)

* The `massive_game_server` artifact is bestowed under the **MIT License**.

* Your fellowship's contributions during this quest should also embrace the spirit of MIT, allowing for their glory to be potentially woven back into the Trebuchet Network's grand tapestry.

* Your unique, groundbreaking enchantments remain yours, but improvements to the core engine are gifts we encourage you to share with the realm.

*(The Scribes of Law will provide further clarification if needed.)*

## 10. Beyond the Horizon: Post-Hackathon Adventures

* **The Ongoing Saga:** Outstanding creations or individuals may be invited to continue their journey with Trebuchet Network.

* **Echoes in Eternity (Open Source Showcase):** Your triumphs may be integrated into the main `massive_game_server` or celebrated far and wide.

* **The Fellowship Endures (Networking):** Forge bonds with fellow titans of tech and industry luminaries.

*(Further prophecies may be revealed by the organizers.)*

## 11. Whispers to the Organizers: Contact Information

For queries regarding the organization of this grand tournament, its laws, or the logistics of your quest:

* **Carrier Pigeon (Email):** \[Hackathon Organizer Email - To Be Announced\]

* **Town Crier (Discord):** \[Admin/Organizer Handles - To Be Announced\]

May your code be swift, your algorithms elegant, and your servers unyielding! We eagerly await the legends you will forge in Project Trebuchet!